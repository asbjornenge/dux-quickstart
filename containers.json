[
    {
        "id"    : "rainbow-dock",
        "image" : "asbjornenge/rainbow-dock:3.0.1",
        "cmd"   : "--domain ${DOMAIN} --dnshost 0.0.0.0 --apihost 0.0.0.0 --apiport 9000 --fwdhost 8.8.8.8 --ttl 10 --ipv4-for-ipv6",
        "ports" : ["9000:9000","53:53/tcp","53:53/udp"]
    },
    {
        "id"      : "rainbow-dock-populator",
        "image"   : "asbjornenge/rainbow-dock-populator",
        "cmd"     : "--dockerhost tcp://${DOCKER_HOST}:${DOCKER_PORT} --apihost ${DOCKER_HOST}:9000"
    },
    {
        "id"      : "dispatcher",
        "image"   : "asbjornenge/dux-dispatcher",
        "cmd"     : "--port 8000"
    },
    {
        "id"      : "statestore",
        "image"   : "asbjornenge/dux-statestore",
        "env"     : ["FIREBASE_URL=${FIREBASE_URL}","FIREBASE_SECRET=${FIREBASE_SECRET}"],
        "cmd"     : "--dispatcher-host dux-dispatcher.${DOMAIN} --dispatcher-port 8000"
    },
    {
        "id"      : "scheduler",
        "image"   : "asbjornenge/dux-scheduler",
        "cmd"     : "--dispatcher-host dux-dispatcher.${DOMAIN} --dispatcher-port 8000 --statestore-host dux-statestore.${DOMAIN} --statestore-port 8000",
        "volumes" : ["${DOCKER_BIN}:/usr/local/bin/docker"]
    }
]
